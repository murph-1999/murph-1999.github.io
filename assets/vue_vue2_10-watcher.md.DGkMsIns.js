import{_ as s,o as i,c as a,a8 as n}from"./chunks/framework.D8k27DW7.js";const g=JSON.parse('{"title":"watcher","description":"","frontmatter":{},"headers":[],"relativePath":"vue/vue2/10-watcher.md","filePath":"vue/vue2/10-watcher.md","lastUpdated":null}'),e={name:"vue/vue2/10-watcher.md"},t=n(`<h1 id="watcher" tabindex="-1">watcher <a class="header-anchor" href="#watcher" aria-label="Permalink to &quot;watcher&quot;">â€‹</a></h1><p>ç»å¸¸ä¼šæåˆ°<code>computed</code>å’Œ<code>watch</code>çš„åŸç†æ˜¯ä»€ä¹ˆï¼Œå› æ­¤è¿™é‡Œå•ç‹¬è¯´æ˜ <code>Vue</code>æºç ä¸­ <code>watcher</code> ç›¸å…³å†…å®¹ã€‚åœ¨æºç ä¸­ï¼Œåˆ†ä¸ºä¸‰ç±» <code>watcher</code>ï¼š</p><ul><li>æ¸²æŸ“ <code>watcher</code></li><li><code>watch</code> ç”¨æˆ·<code>watcher</code></li><li><code>computed</code> è®¡ç®—å±æ€§ ä¸‹é¢å°†è¯¦ç»†è¯´æ˜ã€‚</li></ul><h2 id="æ¸²æŸ“-watcher" tabindex="-1">æ¸²æŸ“ watcher <a class="header-anchor" href="#æ¸²æŸ“-watcher" aria-label="Permalink to &quot;æ¸²æŸ“ watcher&quot;">â€‹</a></h2><p>åœ¨åˆå§‹åŒ–éƒ¨åˆ†å·²ç»è¯´æ˜è¿‡æ¸²æŸ“<code>watcher</code>ï¼Œå®ƒåœ¨<code>mountComponent</code>ä¸­åˆå§‹åŒ–ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mountComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  ...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">   new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Watcher</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(vm, updateComponent, noop, {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    before</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (vm._isMounted </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vm._isDestroyed) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        callHook</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(vm, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;beforeUpdate&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> /* isRenderWatcher */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="ç”¨æˆ·watcherä¹‹-watch" tabindex="-1">ç”¨æˆ·watcherä¹‹ watch <a class="header-anchor" href="#ç”¨æˆ·watcherä¹‹-watch" aria-label="Permalink to &quot;ç”¨æˆ·watcherä¹‹ watch&quot;">â€‹</a></h2><p>å®ƒæ˜¯åœ¨initstateä¸­åˆå§‹åŒ–çš„ã€‚å®ƒçš„åŸç†å°±æ˜¯å¯¹<code>watch</code>çš„æ¯ä¸ªå±æ€§åˆ›å»ºä¸€ä¸ª<code>watcher</code>å¯¹è±¡ï¼›<code>watcher</code> åœ¨åˆå§‹åŒ–æ—¶ä¼šå°†ç›‘å¬çš„ç›®æ ‡å€¼ç¼“å­˜åˆ° <code>watcher.value</code> ä¸­, å› æ­¤è§¦å‘ <code>data[key]</code> çš„ <code>get</code> æ–¹æ³•, è¢«å¯¹åº”çš„ <code>dep</code> è¿›è¡Œä¾èµ–æ”¶é›†; å½“ <code>data[key]</code> å‘ç”Ÿå˜åŠ¨æ—¶è§¦å‘ <code>set</code> æ–¹æ³•, æ‰§è¡Œ <code>dep.notify</code> æ–¹æ³•, é€šçŸ¥æ‰€æœ‰æ”¶é›†çš„ä¾èµ– <code>watcher</code> , è§¦å‘æ”¶é›†çš„ <code>watcher</code> , åœ¨<code>run</code>ä¸­æ‰§è¡Œ <code>watcher.cb</code> , ä¹Ÿå°±æ˜¯ <code>watch</code> ä¸­çš„ç›‘å¬å‡½æ•°ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// this.lazyä¸ºtrue è¯´æ˜æ˜¯è®¡ç®—å±æ€§</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.lazy</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      ?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      :</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><h2 id="è®¡ç®—å±æ€§computed" tabindex="-1">è®¡ç®—å±æ€§computed <a class="header-anchor" href="#è®¡ç®—å±æ€§computed" aria-label="Permalink to &quot;è®¡ç®—å±æ€§computed&quot;">â€‹</a></h2><p><code>computed</code> ä¹Ÿæ˜¯åœ¨<code>initState</code>ä¸­åˆå§‹åŒ–çš„ï¼Œä¸è¿‡å’Œ<code>watch</code>æœ‰æ‰€ä¸åŒï¼Œä»æ­¥éª¤æ¥çœ‹å¦‚ä¸‹ï¼š</p><ol><li>å¯¹æ¯ä¸ªè®¡ç®—å±æ€§åˆ›å»ºä¸€ä¸ª<code>watcher</code>å¯¹è±¡ <code>core/observer/watcher.js</code></li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// this.lazyä¸ºtrue è¯´æ˜æ˜¯è®¡ç®—å±æ€§</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.lazy</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      ?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      :</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><ol start="2"><li>åˆå§‹åŒ–<code>computed</code>çš„æ—¶å€™ <code>src/core/instance/state.js</code></li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineComputed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">target</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">defineProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(target, key, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   enumerable: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   configurable: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   get: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createComputedGetter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   set: noop</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨æ˜¯è®©<code>computed</code>æˆä¸ºä¸€ä¸ªå“åº”å¼æ•°æ®ï¼Œå¹¶å®šä¹‰å®ƒçš„<code>get</code>å±æ€§ï¼Œå½“é¡µé¢æ‰§è¡Œæ¸²æŸ“è®¿é—®çš„<code>computed</code>æ—¶ï¼ˆä¹Ÿå°±æ˜¯<code>render</code>é˜¶æ®µï¼‰ï¼Œæ‰ä¼šè§¦å‘<code>get</code>ç„¶åæ‰§è¡Œ<code>createComputedGetter</code>ã€‚</p><ol start="3"><li>createComputedGetter</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createComputedGetter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é«˜é˜¶å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¿”å›å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">   const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> watcher</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._computedWatchers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._computedWatchers[key]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   // è¿™ä¸ªwatcherå°±æ˜¯å¯¹åº”çš„computed-watcher</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">   if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (watcher) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">     if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (watcher.dirty) {  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åœ¨å®ä¾‹åŒ–watcheræ—¶ä¸ºtrueï¼Œè¡¨ç¤ºéœ€è¦è®¡ç®—</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       watcher.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">evaluate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¿›è¡Œè®¡ç®—å±æ€§çš„æ±‚å€¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     // è®©è®¡ç®—å±æ€§å†…çš„å“åº”å¼æ•°æ®è®¢é˜…å½“å‰çš„render-watcher</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">     if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (Dep.target) {  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å½“å‰çš„watcherï¼Œè¿™é‡Œæ˜¯é¡µé¢æ¸²æŸ“è§¦å‘çš„è¿™ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥ä¸ºrender-watcher</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       watcher.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">depend</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ”¶é›†å½“å‰watcher</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">     return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> watcher.value  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¿”å›æ±‚åˆ°çš„å€¼æˆ–ä¹‹å‰ç¼“å­˜çš„å€¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Watcher</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> evaluate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   //  è®¡ç®—å±æ€§æ±‚å€¼</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   //  è¿™é‡Œä¼šè§¦å‘computedå†…éƒ¨å¯ä»¥è®¿é—®çš„å“åº”å¼æ•°æ®çš„getï¼Œå®ƒä»¬ä¼šå°†å½“å‰çš„computed-watcherä½œä¸ºä¾èµ–æ”¶é›†åˆ°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   //  è‡ªå·±çš„depé‡Œã€‚è®¡ç®—å®Œå°†dirtyè®¾ç½®ä¸ºfalseï¼Œè¡¨ç¤ºå·²ç»è®¡ç®—è¿‡äº†</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.dirty </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // è¡¨ç¤ºè®¡ç®—å±æ€§å·²ç»è®¡ç®—ï¼Œä¸éœ€è¦å†è®¡ç®—</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> depend</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">   let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.deps.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // depså†…æ˜¯è®¡ç®—å±æ€§å†…èƒ½è®¿é—®åˆ°çš„å“åº”å¼æ•°æ®çš„depçš„æ•°ç»„é›†åˆ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">   while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.deps[i].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">depend</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è®©æ¯ä¸ªdepæ”¶é›†å½“å‰çš„render-watcher</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><code>computed</code>å†…çš„å“åº”å¼æ•°æ®ä¼šæ”¶é›†<code>computed-watcher</code>å’Œ<code>render-watcher</code>ä¸¤ä¸ª<code>watcher</code>ï¼Œå½“<code>computed</code>å†…çš„çŠ¶æ€å‘ç”Ÿå˜æ›´è§¦å‘<code>set</code>åï¼Œé¦–å…ˆé€šçŸ¥<code>computed</code>éœ€è¦è¿›è¡Œé‡æ–°è®¡ç®—ï¼Œç„¶åé€šçŸ¥åˆ°è§†å›¾æ‰§è¡Œæ¸²æŸ“ï¼Œå†æ¸²æŸ“ä¸­ä¼šè®¿é—®åˆ°<code>computed</code>è®¡ç®—åçš„å€¼ï¼Œæœ€åæ¸²æŸ“åˆ°é¡µé¢ã€‚</p><hr><p><strong>Quiz Time</strong>ğŸ‘‡</p><details><summary> watch å’Œ computed ä½¿ç”¨ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</summary> <br> â— computed æ˜¯è®¡ç®—ä¸€ä¸ªæ–°çš„å±æ€§ï¼Œå¹¶å°†è¯¥å±æ€§æŒ‚è½½åˆ° vmï¼ˆVue å®ä¾‹ï¼‰ä¸Šï¼Œè€Œ watch æ˜¯ç›‘å¬å·²ç»å­˜åœ¨ä¸”å·²æŒ‚è½½åˆ° vm ä¸Šçš„æ•°æ®ï¼Œæ‰€ä»¥ç”¨ watch åŒæ ·å¯ä»¥ç›‘å¬ computed è®¡ç®—å±æ€§çš„å˜åŒ–ï¼ˆå…¶å®ƒè¿˜æœ‰ dataã€propsï¼‰ï¼› â— computed æœ¬è´¨æ˜¯ä¸€ä¸ªæƒ°æ€§æ±‚å€¼çš„è§‚å¯Ÿè€…ï¼Œå…·æœ‰ç¼“å­˜æ€§ï¼Œåªæœ‰å½“ä¾èµ–å˜åŒ–åæˆ–è€…ç¬¬ä¸€æ¬¡è®¿é—® computed å±æ€§ï¼Œæ‰ä¼šè®¡ç®—æ–°çš„å€¼ï¼Œè€Œ watch åˆ™æ˜¯å½“æ•°æ®å‘ç”Ÿå˜åŒ–ä¾¿ä¼šè°ƒç”¨æ‰§è¡Œå‡½æ•°ï¼› â— ä»ä½¿ç”¨åœºæ™¯ä¸Šè¯´ï¼Œcomputed é€‚ç”¨ä¸€ä¸ªæ•°æ®è¢«å¤šä¸ªæ•°æ®å½±å“ï¼Œè€Œ watch é€‚ç”¨ä¸€ä¸ªæ•°æ®å½±å“å¤šä¸ªæ•°æ®ã€‚ </details>`,22),h=[t];function p(l,k,d,c,r,E){return i(),a("div",{"data-pagefind-body":!0},h)}const y=s(e,[["render",p]]);export{g as __pageData,y as default};
